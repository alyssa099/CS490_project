<script src="testSystem.js" type="text/JavaScript"></script>
<head>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <a href="/~anm52/CS490/home.html">Home</a>
    <h2>Create a New Question</h2>
    <div id="response"></div>
<div class = "row">
  <div class="col">
    <div class="leftside">
          <form>
            Question:<br>
            <textarea type="text" id="question" rows="10" cols="75"></textarea>
            <br><br>
            Function Name:<br>
            <input type="text" id="funcName">
            <br><br>
            Parameter(s):<br>
            <input type="text" id="params" placeholder="parameter 1, parameter 2...">
            <br><br>
            Test Case Input(s):<br>
            <input type="text" id="input" placeholder="input 1, input 2...">
            <br><br>
            Expected Output(s):<br>
            <input type="text" id="output" placeholder="output 1, output 2...">
            <br><br>
            Difficulty:<br>
            <select id="difficulty">
              <option value="easy">easy</option>
              <option value="medium">medium</option>
              <option value="hard">hard</option>
            </select>
            <br><br>
            Category:<br>
            <select id="category">
              <option value="conditional">conditional</option>
              <option value="loops">loops</option>
              <option value="math">math</option>
              <option value="math">recursive</option>
            </select>
            <br><br>
            <input type="button" onclick="submitNewQuestion();" value="Submit">
          </form>
          
      </div>
    </div>

    <div class="col">
      <div class="rightside">
          <h3>Question Bank</h3>
          <table id="questionBank"></table>
      </div>
    </div>
</div>
<script>

  window.onload = function() {
    var data = "<th>Question</th><th>Difficulty</th><th>Category</th>"
    var request = new XMLHttpRequest();
    var params = "postType=questionBank";
    request.open("POST", "https://web.njit.edu/~anm52/CS490/posts.php", true)
    request.setRequestHeader("Content-type","application/x-www-form-urlencoded");
    request.onreadystatechange = function() {
      if (request.readyState === 4 && request.status == 200) {
        var responseData = JSON.parse(request.responseText);
        for (i = 0; i<responseData.length; i++){
          var resp = responseData[i];
          data+='<tr><td>'+resp.question+'</td><td>'+resp.difficulty+'</td><td>'+resp.category+'</td></tr>';
        }
        document.getElementById('questionBank').innerHTML = data;
    }
  }
  request.send(params);
}
</script>

</body>