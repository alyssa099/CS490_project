<script src="testSystem.js" type="text/JavaScript"></script>
<style>    
    .leftside, .rightside {
        height:100vh;
        width:100%
    }
    .leftside{
        background:grey;
        padding-left: 10%;
        padding-top: 10%
    }
</style>
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>

<body>
    <a href="/~anm52/CS490/home.html">Home</a>
    <h2>Create a New Question</h2>
<div class = "row">
  <div class="col">
    <div class="leftside">
          <form>
            Question:<br>
            <textarea type="text" id="question" aria-rowspan="20"></textarea>
            <br><br>
            Function Name:<br>
            <input type="text" id="funcName">
            <br><br>
            Parameters:<br>
            <input type="text" id="params">
            <br><br>
            Test Case Input:<br>
            <input type="text" id="input">
            <br><br>
            Expected Output:<br>
            <input type="text" id="output">
            <br><br>
            Difficulty:<br>
            <select id="difficulty">
              <option value="easy">easy</option>
              <option value="medium">medium</option>
              <option value="hard">hard</option>
            </select>
            <br><br>
            Category:<br>
            <select id="category">
              <option value="conditional">conditional</option>
              <option value="loops">loops</option>
            </select>
            <br><br>
            <input type="button" onclick="submitNewQuestion();" value="Submit">
          </form>
          
        <div id="response"></div>
      </div>
    </div>

    <div class="col">
      <div class="rightside">
          <h3>Question Bank</h3>
          <table id="questionBank"></table>
      </div>
    </div>
</div>
<script>

  window.onload = function() {
    var data = "<th>Question</th><th>Difficulty</th><th>Category</th>"
    var request = new XMLHttpRequest();
    var params = "postType=questionBank";
    request.open("POST", "https://web.njit.edu/~anm52/CS490/posts.php", true)
    request.setRequestHeader("Content-type","application/x-www-form-urlencoded");
    request.onreadystatechange = function() {
      if (request.readyState === 4 && request.status == 200) {
        var responseData = JSON.parse(request.responseText);
        for (i = 0; i<responseData.length; i++){
          var question = resp[i];
          data+='<tr><td>'+responseData.question+'</td><td>'+responseData.category+'</td><td>'+responseData.difficulty+'</td></tr>';
        }
        document.getElementById('questionBank').innerHTML = data;
    }
  }
  request.send(params);
}
</script>

</body>